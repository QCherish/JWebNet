#<center>应用性能和可用性分析</center>
###<center>14130130320 殷照轩</center>
---
##1.1性能
####1.1.1性能指标

- 连接时间
```客户端和web服务器建立连接所需要的时间
```
- 发送时间
```从客户端和web服务器发送数据所需要的时间
```
- 接收时间
```从web服务器向客户服务端发送响应数据所需要的时间
```
- 处理时间
```web服务器响应客户端请求所需要的时间
```
- 响应时间
```完成某特定事物所需要的时间
```
- 并发用户
```用户在同一时间做同一件事物或操作
```
- 请求响应时间
```客户端发出请求到得到相应的整个过程时间
```
- 事物响应时间
```业务响应时间
```
- 吞吐量
```给定时间范围内网络上传输的数据量的总和
```
- 吞吐率
```吞吐量／时间
```
- 每秒事物处理量
```每秒系统能处理的的交易或者事物
```
- 点击率
```每秒用户向web服务器提交的HTTP请求数
```
- 资源利用率
```性能测试的重点
```

####1.1.2应用性能提升策略
- 增加带宽
```增加服务器带宽来提高下载、加载速度
```
- 减少Web界面中的HTTP请求
```通过减少组件数
```
- 加快服务器脚本计算速度
```用户诸如Python、js等脚本语言编写动态内容或后台运行的程序
```
- 采用缓冲技术
- 使用代理服务器
- 动态内容静态化
- 页面容量优化
- 页面组件分离
- 提升web服务器性能
- 使用负载均衡
- 优化数据库
- 优化应用程序
- 使用CDN
- 采用镜像分担流量

#####1.1.2.1采用的缓冲技术
---
#####一个理想的Web缓存系统应具有以下特性：

######（1）快捷性：缓存系统应该能够有效地降低客户的访问延迟；

######（2）鲁棒性：鲁棒性意味着可用性，客户希望Web服务随时可用；

######（3）透明性：缓存系统对客户应是透明的，客户得到的结果仅仅是快速的响应和良好的可用性；

######（4）可扩展性：Web缓存系统应能够随着网络规模和密度的不断增长而很好地进行扩展；

######（5）高效性：Web缓存系统给网络带来的开销越小越好；

######（6）适应性：缓存系统能够适应客户请求和网络环境的动态变化，这涉及到缓存管理、缓存路由、代理配置等，对于获得理想的缓存性能至关重要；

######（7）稳定性：Web缓存系统采用的方案不应给网络带来不稳定；

######（8）负载均衡：一个理想的缓存方案应能够将负载均匀地分发到整个网络，以避免某一个代理或服务器成为瓶颈或Hot spot点，而造成系统一部分甚至整个系统性能下降；

######（9）异构处理能力：随着网络规模和覆盖域的不断增大，网络将跨越一系列不同的硬件和软件体系结构。Web缓存系统应能够适应不同的网络体系结 构；

######（10）简单性：简单的方案容易实现且易被普遍接受，一个理想的Web缓存方案配置起来应简单易行。

#####围绕上述特性，一个Web缓存系统必须解决好以下问题：

######（1）缓存体系结构：缓存代理在网络中如何组织和配置；

######（2）代理合作：代理间如何合作，相互合作的代理可以提高命中率而改善缓存系统的性能；

######（3）缓存路由：当一处缓存代理失效时，如何将请求向其它缓存代理转发；

######（4）缓存替换算法：当缓存空间不够时，缓存内容如何替换；

######（5）缓存一致性：即缓存内容的时效性问题，如何防止缓存的内容过时；

######（6）内容预取：代理如何决定从服务器或其它代理处进行内容预取以减少客户的访问延迟；

######（7）负载平衡：如何解决网络中的“Hot spot”现象；

######（8）缓存内容：什么样的内容可以被缓存。
---
#####1.1.2.2Web缓存方案概述
#####1.1.2.2.1Web缓存体系结构
######一个Web缓存系统的性能取决于其客户群的大小，客户群越大，缓存的内容被再次请求的可能性就越高。相互合作的Cache组可能会提高命中率而 提高缓存系统的性能，因此缓存系统的体系结构应确保代理间能够有效地进行合作。典型的缓存体系结构有以下几种：层次式、分布式和混合式。

#####1.1.2.2.2 层次式缓存体系结构
######Harvest项目首先提出了层次式Web缓存体系结构。在层次式缓存体系结构中，Cache在网络呈多级配置，假定有四级：```底层Cache、局域层Cache、区域层Cache、广域层Cache。```底层是客户/浏览器Cache，当客户端Cache不能满足客户的请求时，该请求被转发到局域层Cache，如果仍然得不到满足，则该请求被转发到区域层Cache直至广域层Cache。 如果该请求在各级Cache中都得不到满足，则请求最终被转发到服务器。然后服务器对该请求的响应自顶向下地发送给客户，在沿途的每一个中间层Cache 中留下一个副本。请求相同内容的其它请求则自下而上地进行转发，直到在某一级Cache中得到满足。
#####层次式缓存体系结构带宽效率高，点击率较高的Web内容可以快速高效地分布到网络中。但该体系结构也存在一些```不足```：
- （1）建立层次式缓存体系结构，缓存服务器必须配置在网络中关键的访问点上，缓存服务器间需相互合作；
- （2）每一级Cache都会带来额外的延迟；
- （3）高层Cache可能会成为瓶颈并带来较长的排队延迟；
- （4）同一个内容的多个副本被保存在不同的Cache中，整个系统Cache空间利用率不高。

####1.1.2.2.3 分布式缓存体系结构
######针对层次式缓存结构的上述缺陷，一些研究者提出了分布式缓存体系结构，在这种结构中，只有低层Cache.为了确定将客户请求转发给哪一个局域层Cache来获 取失效的内容，每一个局域层Cache保留一份其它局域层Cache中缓存内容的目录信息，以便发生失效时将客户请求准确地转发到相应的局域层 Cache。缓存阵列路由协议CARP是一种分布式缓存方案，它将URL空间分割成不同的部分，将每一部分指定给一组松散耦合的Cache组，每个Cache只能缓存具有指 定给它的URL的Web内容，从而可以根据客户请求内容的URL来确定将请求转发给哪一个Cache。
######在分布式缓存结构中，大多数的网络流量都发生在网络底层，不容易产生网络拥塞，Cache空间利用率高，且可以更好地实现负载共享，容错性更 好。然而，一个大规模的分布式缓存系统的配置可能会遇到几个问题：连接次数较多、带宽要求高、管理困难。
####1.1.2.2.4 混合式缓存体系结构
######混合式体系结构同级Cache采用分布式缓存结构，相互合作。Harvest集团设计的互联网缓存协议ICP（the Internet Cache Protocol）支持从RTT最小的父Cache或邻居Cache中获取相应的内容。
####1.1.2.2.5 缓存路由
######出于对Web缓存系统扩展性的考虑，大多数缓存系统将大量的Cache分散在互联网上，这样带来的最大问题是如何快速地定位缓存有所需内容的 Cache，这就是缓存路由问题。该问题有点类似于网络路由，但却不能用同样的方式解决。传统的网络路由可依地址聚类（层次式的地址表示使得地址聚类成为 可能）而进行，但是在WWW中，具有相同URL前缀或服务器地址前缀的文档未必发送给相同的客户，难以对路由地址进行聚类，这样缓存路由表将大得难以管 理。此外，缓存内容不断更新，过时的缓存路由信息将导致缓存失效。为降低Cache失效的代价，理想的缓存路由算法应该将客户的请求路由到下一个代理，该 代理具有较高的命中可能性且位于或接近于客户到服务器的网络路径上。
####1.1.2.2.6 缓存路由表法
######将一组Cache组合起来，当客户的请求被转发到指定的Cache时，如果该Cache缓存有 请求的内容，则将其发送给客户，否则通过ip组播将请求转发给同组的其它Cache，由缓存有相应内容的Cache对客户的请求进行响应，如果所有 Cache中都没有缓存请求的内容，则该请求被转发到源服务器。Harvest缓存系统将Cache组织成层次式结构并使用 Cache解析协议ICP，当发生Cache失效时，低层Cache在将客户请求转发到上一层Cache前，首先查询兄弟节点Cache是否缓存有相应的内容， 以避免顶层Cache超载。自适应Web缓存系统为每一个服务器建立Cache树，树中的Cache被组织成相互重叠的多点 传送组，一个请求通过这些传送组来获取相应的缓存内容。该方法对每一个服务器构造不同的Cache树，因此没有根结点的超载问题，自配置性和鲁棒性都比较 好。但是对点击率较低的内容请求可能会经过较多的Cache，产生较大的Cache通信开销，作者建议通过限制请求经过的Cache数来解决该问题。
####1.1.2.2.7 哈希函数法
######Cache阵列路由协议CARP使用一个基于阵列成员列表和URL的哈希函数来确定一个Web对象确切的缓存地址 或一个Web对象应缓存在什么地方。在Summary Cache中，每个代理保存一个同组中其它代理所缓存内容的URL摘 要信息，该代理在转发客户请求时检查这些摘要信息以确定将请求转发给哪一个代理。为减小开销，这些摘要信息定期进行更新。试验表明该系统可以显著地减少 Cache间的信息数量、带宽消耗以及协议带来的CPU开销，而保持和ICP几乎一样的缓存命中率。
####1.1.2.3 缓存一致性
#####Web缓存系统可以减小访问延迟，但带来了一个副作用：缓存的副本提供给客户的可能是过时的内容，因此必须有一套缓存一致性机制来确保缓存的内 容能够及时进行更新及有效性确认，以便为客户提供最新的内容。目前主要有两种缓存一致性类型：强缓存一致性和弱缓存一致性。
#####1.1.2.3.1 强缓存一致性
- （1）客户端确认：对于每一次访问，代理都认为缓存的内容已经过时并随请求发送一个“IF—Modified —Since—date”报头到服务器。如果在指定的时间后该内容发生了变化，则服务器将更新后的内容发送给代理并最终发送给客户；如果请求内容未修改， 则发回 “304”响应，表示文档未修改，缓存内容继续有效。
- （2）服务器确认：当服务器检测到一个内容发生变化时，服务器向所有最近请求过该内容并有可能缓存该内容的客户发送作废信息。 该方法要求服务器必须保存一个访问该内容的客户链表以便发送作废信息，当客户数量很大时，该方法将变得不适用，同时，该链表本身也可能过时，造成服务器向 许多已经不再缓存该内容的客户发送作废信息。

#####1.1.2.3.2 弱缓存一致性
- 自适应TTL （Time To Live）机制：通过观察一个文档的生存期来调整其生存时间，从而解决缓存一致性问题。如果一个文档在一个相当长的时间内都未修改过，它往往不会再发生变 化。这样，一个文档的生存期属性被赋予一个该文档目前“年龄”（等于目前时间减去上一次修改的时间）的百分比。自适应TTL法可以将一个文档过时的可能性 控制在＜5%的范围内。大多数的代理服务器都使用该机制，但是这种基于文档生存期的缓存一致性机制并不能确保缓存内容的有效性。


####1.2.2.4 负载平衡
######当众多客户同时从一台服务器获取数据或服务时就会发生Hot Spot现象，导致服务器性能下降甚至失效。目前处理该问题的方法大多数是使用某些复制策略将被请求的内容分贮在互联网上，从而将负载分散到多个服务器 （代理）上，避免单个服务器成为为瓶颈。
####1.2.2.5 缓存内容
######一个代理可能发挥多种作用，除进行数据缓存外还可以进行连接缓存和计算缓存。连接缓存指在客户与代理、代理与服务器间使用持久连接，来减少建立 TCP连接开销及服务器发送时的慢起动开销，从而减小客户访问延迟时间。计算缓存可以看作是Web服务器可以将它们的部分 服务迁移到代理，以减轻服务器瓶颈，其应用之一就是动态数据缓存，通过代理来缓存动态数据并将一部分计算迁移到代理，由代理来产生和维护缓存的动态数据， 从而提高客户获取动态数据的性能。

##1.2应用可用性
####1.2.1 Web应用的可用性
- 用户把知觉和思维集中在自己任务上，可以按照自己行动过程进行操作
- 用户不必记忆面向计算机软硬件的知识
- 用户不必为键盘鼠标的操作分心，操作动作简单重复
-  在非正常环境和情景时，用户仍能正常进行操作
-   用户理解和操作出错较少
-   用户学习操作的时间较短

####1.2.2 web可用性原则
| 可用性属性 | 描述指标 |
| :------| ------|
| 易学性和易记性 | 新用户能多快学会有效地完成一些基本工作；老用户能否清晰地记得如何再次有效的使用，还是必须重新学习所有东西 |
| 有效性 | 能否帮助用户准确地找到所要的信息，或者用户通过Web应用完成特定的任务的准确程度 |
| 效率 | 用户使用Web应用能多快的完成任务 |
| 容错度 | 在使用Web应用的时候，用户出错的频率是多少，错误有多严重，用户如何从错误中恢复 |
| 用户满意度 | 用户喜欢使用该Web应用的程度 |
####1.2.3一个好的web应用
- 别让用户思考
- 别浪费用户耐心
- 抓住用户注意
- 使特征明显呈现
- 有效书写
- 尽量简洁
- 别怕留白
- 用“可视化”语言交流
- 规范

####1.2.4可用性评估
#####1.2.4.1 用户测试法
#####1.2.4.2 启发式评估法
```
可用性启发方法基本上就是可以应用到任意网站或类似数字界面的通用可用性原则。
系统状态的可见性。用户应当能够随时了解并对当前情况有掌控感。例如：页面加载是否完成？
将系统与真实世界相联系。界面的各个元素都应当与用户的预期和直观行为相一致。例如： 信封图标所对应的不能是添加到购物袋的操作。
用户控制与自由。提供“紧急退出”功能及其他途径渠道，让用户感到放松，有把握。
一致性与标准。保证所有内容之间的一致性（设计要素、微缩副本等）。相同的按钮不能具有几种不同的功能。
预防错误。尽量帮助用户不犯错。删掉可能造成误解或引起错误的界面元素。
要认可不要回忆。不要依靠于用户的记忆力。
使用灵活高效。界面导航必须简单方便，不能要求用户付出太多精力。
设计美观简约。注重内容，不要摆出大杂烩。
帮助用户识别、诊断并修复错误。以友好的方式说明错误，并提供解决错误的进一步操作建议。绝不能让用户觉得烦躁。
帮助和文档。一定要在妥当的位置放置各种重要信息和常见问题解答。
```
#####1.2.4.2.1 评估体验效果并找出可用性问题
```
评估人员分别浏览界面并执行预先指定的任务。当他们遇到可用性问题时，应当在表格中进行记录，同时写下是在执行什么任务时遇到的问题、出现问题的页面是哪个，以及违反了哪项启发方法原则。例如：一个注册表单要求用户提交密码，但没有明确说明密码中不能使用哪些符号，而在表单提交后却显示错误信息，要求删除无效符号。评估人员应记录下这一可用性问题，并标记下所违反的启发方法原则：预防错误。
只要认为有价值，评估人员可以自由探索预定任务之外的界面。
```
#####1.2.4.2.25.分析并提交结果
```
在所有用户体验专家都完成评估后，应汇总结果、删去重复的问题，列出简短的可用性问题清单以待解决。部分评估人员可以用严重性等级标记每个问题的重要性并相应进行排序。严重性等级可以根据出现频率、影响大小和持续情况进行分级。
启发式评估结果通常以报告的形式提交，报告中应说明调研方法、评估流程和所用的启发式方法原则，以及简短而具体的可用性问题清单、修复建议等。
```

#####1.2.4.3 认知性遍历
#####1.2.4.5 用户模型法
#####1.2.4.6 用户调查法

| 评估方法 | 适用阶段 | 信息、数据 | 成本 | 耗时 | 测试人员 | 评价 |
| ------ | ------| ------ | ------| ------ | ------| ------ | ------|
|用户模型法|始终|客观、定量数据|低|省时|设计人员|无法进行用户测试
|用户调查法|完成以后|主观，定性|低|省时|用户|测试成本低
|用户测试法|始终|高|客观、定性|费时|专门可用性测试人员和用户|全面、准确、近似真实
|启发式评估法|设计阶段或者完成阶段|低|主观、表达描述|中等|专家评测者|缺乏固定统一标准
|认知性遍历|设计阶段|低|主观、表达描述|中等|这家评审者和典型用户|测试准备要求高

#####<center>可用性评估方法对比</center>
![](http://a3.qpic.cn/psb?/V102pWhP03sJLf/r0r3drHYxLO58CLRt*Wdo3pPo3U9iIxZSWKMLNXASig!/b/dB4BAAAAAAAA&ek=1&kp=1&pt=0&bo=8AKAAkAGUgUDCEw!&tm=1498575600&sce=0-12-12&rf=viewer_311)
![](http://a4.qpic.cn/psb?/V102pWhP03sJLf/GIFKRTh6aSvBdg6FACNitk5TZbdNrO9*vLQfGdSL.hs!/b/dBcBAAAAAAAA&ek=1&kp=1&pt=0&bo=gAIYBG4DngUDCEU!&tm=1498575600&sce=50-1-1&rf=viewer_311)
![](http://a2.qpic.cn/psb?/V102pWhP03sJLf/ftbwlgKPlc2oOOA1HZUpp0xGu444X3uX3eJa3pPHu6s!/b/dBkBAAAAAAAA&ek=1&kp=1&pt=0&bo=gAKmAtoFMgYDCOA!&tm=1498575600&sce=50-1-1&rf=viewer_311)

####<center> UI界面 </center>